# メタファー(という闇の魔術）

メタファー、日本語で暗喩。貴方が村上春樹のファンであれば馴染み深い言葉でしょう。小説ではよく聞く言葉です。

貴方がここまで目を通してきたなら、本節に無数に存在するメタファーにも目を触れてきたことかと思います。間違った情報を地雷に見立てたり、野球を使ったと思いきや、メタファーの世界で貴方は新しい土地に引っ越してきました。

プログラミングの世界は比較的新しい世界です。しかしながら、その1つ1つの要素は別の世界のなにかに似ていることがしばしばあります。そしてプログラマーは専ら、その似ている何かを見つけるのが得意なのです。全く知らない何かを、別の似ている貴方の知っている世界に紐付けることで理解を簡単にします。これがメタファーです。プログラミングにおけるメタファーは小説の世界における（面白おかしく美しく意味のイマイチわからない）隠喩よりもむしろ、既存の概念と新しい概念を結ぶ架け橋と言えるでしょう。

## メタファーによる学習

算数を初めて学ぶ子供は、数字の概念をリンゴで学びます。そして、足し算を学ぶときはたかしくんのリンゴとみかちゃんのリンゴをあわせて数えます。

この算数のメタファーが優れているのは、ある意味これらはイコールの関係だからです。たかしくんのリンゴ3ことみかちゃんのリンゴ4こをあわせてかぞえて7こになることは3 + 4 = 7の具体例です。

しかしながら、プログラミングの概念において、数字とリンゴのように置換可能な概念は多くありません。プログラミング学習で度々出てくるメタファーは**似ている既存概念**で有ることが多いでしょう。しかし、似ているものを使って完全に理解することはできません。一般的にプログラミングと建築は似ていると言われています。でも我々が東京スカイツリーを建てるのは難しいでしょう。たまたま宇宙の構造と脳の構造がいくら似ていても、脳外科医がブラックホールの謎を解明するのが無理なように。

すなわち、**メタファーによる学習は概念を100%を理解できない**ということです。しかしながら、肝心なのはメタファーが**学習の促進剤**となることです。もしかしたら宇宙学者は我々よりも格段に早く脳の構造を理解できるかもしれません。

## 正確なメタファーは存在しない

プログラミングに足を踏み入れて、最も最初に学ぶメタファーは「変数は箱である」でしょう。変数という概念はおそらくプログラミングで挨拶を覚えた後にでてくるものです。本書でもすぐに出てきます。「変数は箱である」というメタファーは一見正しそうに見えます。しかし、このメタファーの魔術に一度取り憑かれると、この認識から二度と抜け出すことはできません。私は今でも変数が箱に見えます。残念ながら変数は箱ではありませんし、その概念を適用できるのはごく一部です。

メタファーはだいたい概念の10%近くを言い表すことができ、90%を言い表すことはできません。そして大体の場合は学習の最初に知るのはその言い表すことのできる10%なのです。大抵メタファーを適用しようとした時、間違っている90%も新しい概念に適用しようとして失敗するのです。

{% hint style="info" %}
例えば、有名な（そしてあまりよろしくない）メタファーは、オブジェクト指向における「クラスはたいやき機だ」というものです。オブジェクト指向とかクラスと言われても今は気にしないでください。そしてそれがたいやき機では決してありません。もしくはたこ焼き器や、私なんかはクッキーの型なんかが好きでよく用いています。いずれにせよメタファーとして褒められるものではありません。

これはちょうど10%程度概念を説明している例です。たいやき機は全く同じ形のたい焼きを作れます。そして、中身のあんこをクリームにすることもできます。これは理解できるでしょう。たいやきを知らなければたこ焼きでもいいでしょう。

クラスも似たようなもので、クラスはあるオブジェクトを全く同じ形で作れます。そして、その中身を（設定次第ですが）自由に変更できることもできます。ただ、概念として言い表せるのはこの程度です。このメタファーはクラスの本質を説明していないなどの問題を孕んでいます。

でも一番の問題は、この説明を採用している「大体の」場合、このたいやき機で作ったたいやきは作られた後自由に中のあんこをクリームに変更できてしまうことです。更にはたらこスパゲッティを詰めることさえできます。そんなたいやきあるでしょうか？
{% endhint %}

## メタファーへの対応

明らかに比喩、メタファーであることが分かる場合でも基本的に身構える必要はありません。一般的なプログラミング教本や技術書、こういった技術系の文章やブログの至るところで比喩を見かけます。そしてその多くはプログラマーの言葉遊びです。別に私自身は写経のことを火打ち石と思ったことは一度もありません。メタファーを見かけたら、その文章を評価するぐらいの心意気でいきましょう。読んでいて面白いか下手か、もしくは上手いか下手か、それを感じる程度で良いのです。

しかしながら、クラスのことをたいやき機であると真面目に信じている人たちがいます。前までは私もそうでした。これはメタファーが「正しそうに聴こえる」ことと、新しい概念を「知らなさすぎる」ことが原因です。みなさんもメタファーに振り回される日が来るかもしれません。メタファーが何を言いたいか気づいた日、そしてメタファーがメタファーであると知った日、それが新しい概念を知り始めた記念日でもあります。

明らかに間違っていることを除けば、初心者にはそのメタファーがどれだけ優れているかは分かりません。ですが、少なくともメタファーはすべてを表すことができないことを知っていれば、クラスがたいやき機ではないことに素早く気付けます。**既存の概念に落とし込むことは貴方の学習の目標ではないこと**を忘れないでください。足し算はりんごを数えることではありません。そのゴールはリンゴだけではなく、みかんや本やお金を数えられるようになることです。

あえてメタファーのメタファーを言うなら「メタファーは悪酒である」でしょう。飲んだ後は高揚感を覚えますが、飲み過ぎたあと、確実に後悔するでしょう。そして、いつの日か貴方の体を壊していきます。
